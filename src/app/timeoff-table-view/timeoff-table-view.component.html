<div class="content">
    <table>
        <tr>
            <th class="search-icon">
                <span class="fa fa-search imgspan"></span>
            </th>
            <th class="member">
                <input class="search-text" type="text" [(ngModel)]="searchPattern" (keyup)="search()" placeholder="Search people..."/>
            </th>
            <th *ngFor="let day of days">
                <div class="day-column">
                    <label class="day-string" for="">{{day | date: 'EEE' }}</label>
                    <label for="">{{day | date: 'dd'}}</label>
                </div>
            </th>
        </tr>

        <tbody >
            <tr *ngFor="let member of list_members">
                <td class="member checkeds" >
                    <div class="check-box">
                        <p-checkbox name="groupname" value="{{member.id}}" [(ngModel)]="selectedValues" (click)="checked($event.target.checked, member.id)"></p-checkbox>
                        <!-- <label><input type="checkbox" (change)="checked($event.target.checked, member.id)"></label> -->
                    </div>
                </td>
                <td class="member multi-line">
                    <div class="avatar" *ngIf="!member.user || !member.user.image"></div>
                    <div class="avatar" *ngIf="member.user && member.user.image" [ngStyle]="{'background-image': 'url('+member.user.image+')'}" ></div>
                    <div class="inform">
                        <div class="name-status">
                            <div class="name"><span *ngIf="member.user">{{(member.user.first_name + ' '+ member.user.last_name) | capitalize}}</span></div>
                            <div [ngClass]="['status', getmemberStatus(member.id)]" class="status">
                                {{getmemberStatus(member.id)}}
                            </div>
                        </div>
                        <div class="member-type"><span *ngIf="member.user">{{member.role.name}}</span></div>
                    </div>
                </td>
                <td *ngFor="let day of days.slice(0, days.length -1)" [class]="hash_member_day_status.get(member.id + '-' + day.getDate())">
                    <button *ngIf="ableToModify(member.id + '-' + day.getDate())" (click)="pppp.toggle($event); answerTimeoff(member.id, day)"></button>
                </td>
                <td>
                    <div *ngIf="member.future_dayoff > 0" class="last-cel">
                        <div class="triangle"></div>
                        <div class="triangle-text" (click)="goToFutureDayOff(member.nearest_future_dateoff)">{{member.future_dayoff}}</div>
                    </div>
                </td>
            </tr>
        </tbody>
    </table>

    <div class="calendar-note">
        <div class="cel-approved thumble inline"></div>
        <label for="Time Off">Time Off</label>

        <div class="cel-pending thumble inline"></div>
        <label for="Pending">Pending</label>

        <div class="cel-holiday thumble inline"></div>
        <label for="Holiday">Holiday</label>
    </div>

    <div class="messages">
        <div class="content">
            <label for="">{{selectedValues.length}} people were selected</label>
            <div class="action">
                <button class="show-selected" type="button" (click)="showSelected()">Show selected</button>
                <button class="cancel" type="button" (click)="hidenMessage()"  >Cancel</button>
            </div>
            <button class="clear" type="button" name="button" (click)="hidenMessage()">Clear</button>
        </div>
    </div>
</div>

<p-overlayPanel #pppp>
    <div class="form-container">
        <form (ngSubmit)="update(); pppp.hide($event, actualTarget)">
            <div class="status">
                <div class=""></div>
                <label for=""></label>
            </div>

            <div class="form-group">
                <textarea  name="answer" placeholder="Say something ..." required ></textarea>
            </div>
            <button class="approve" type="submit"> & Send</button>
            <button  class="cancle" type="button" (click)="pppp.hide($event, actualTarget)">Cancel</button>
        </form>
    </div>
</p-overlayPanel>
