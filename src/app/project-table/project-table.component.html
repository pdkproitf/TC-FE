<div class="table-content">
    <table>
        <tr class="table-header">
            <th style="width: 2%;" >
                Project
            </th>
            <th (click)="sortProject()" style="cursor: pointer;"><span><i id="sort-project" class="fa fa-angle-down"></i></span></th>
            <th style="width: 20%">Client</th>
            <th style="width: 12%">Tracked time (h:m)</th>
            <th style="width: 20%">Members</th>
            <th style="width: 20%"></th>
        </tr>
        <tbody *ngFor="let project of projects.slice((current_page -1)*rowOfPage, current_page*rowOfPage); let i = index;">
            <tr class="project-line" (click)="projectDetails(project)" (mouseover)='showProjectControl(true, i)' (mouseleave)='showProjectControl(false, i)' >
                <td>
                    <div class="project-bacground" [style.background]="project.default.background"></div>
                </td>
                <td><div class="column-text"> {{project.default.name}} </div></td>
                <td class="column-text">{{project.client.name}}</td>
                <td class="column-text">{{project.tracked_time}}</td>
                <td class="column-text">
                    <div class="project-user inline-block" >
                        <div *ngIf="project.members">
                            <div *ngFor="let member of project.members.slice(0,3)">
                                <div  *ngIf="project.default.background" class="oval user-avatar"></div>
                                <div *ngIf="!project.default.background" class="oval" [style.background]="project.default.background"></div>
                            </div>
                        </div>
                    </div>
                    <div class="over-member inline" *ngIf="project.members.length > 4">
                        <div class="oval">
                            <div class="text">
                                +{{project.members.length - 3}}
                            </div>
                        </div>
                    </div>
                </td>
                <td  style="min-width: 128px;">
                    <div class="project-user" id="project-control-{{i}}" style="display: none;">
                        <div class="oval" (click)="save()">
                            <div class="text">
                                <i class="fa fa-download" aria-hidden="true"></i>
                            </div>
                        </div>
                        <div class="oval" (click)="delete()">
                            <div class="text">
                                <i class="fa fa-trash" aria-hidden="true"></i>
                            </div>
                        </div>
                        <div class="oval" (click)="edit()">
                            <div class="text">
                                <i class="fa fa-pencil" aria-hidden="true"></i>
                            </div>
                        </div>
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <p-paginator rows="{{rowOfPage}}" totalRecords="{{projects.length}}" (onPageChange)="paginates($event)"></p-paginator>
</div>
